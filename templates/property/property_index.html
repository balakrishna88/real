<!-- templates/property_index.html -->
{% extends 'base.html' %}

{% block content %}



{% load static %}
<!-- Land Properties Section -->
<section id="land-properties" class="m-6 p-6 bg-gray-50 dark:bg-gray-900 rounded-lg shadow-md">
    <h2 class="text-2xl font-semibold mb-6 text-center text-gray-900 dark:text-gray-100">Land Properties</h2>
  
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
      {% for property in land_properties %}
        <div class="relative p-4 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 
                    hover:shadow-xl transition-all duration-300 flex flex-col justify-between">
          
          <!-- Property Image with Deal Type Badge -->
          <a href="{% url 'property_detail' property.slug %}" class="block">
          <div class="relative">
            {% if property.images.all %}
                <img src="{{ property.images.first.image.url }}" alt="{{ property.title }}" class="w-full h-40 object-cover rounded-lg">
            {% else %}
                <img src="{% static 'images/nophoto.jpg' %}" alt="No Image Available" class="w-full h-40 object-cover rounded-lg">
            {% endif %}

  
            <!-- Deal Type Badge (Top Left) -->
            <span class="absolute top-2 left-2 px-3 py-1 text-xs font-semibold text-white rounded-md shadow-md 
                        {% if property.deal_type == 'SELL' %} bg-red-600 dark:bg-red-400 
                        {% elif property.deal_type == 'BUY' %} bg-green-600 dark:bg-green-400 
                        {% elif property.deal_type == 'RENT' %} bg-blue-600 dark:bg-blue-400 
                        {% else %} bg-gray-700 dark:bg-gray-500 {% endif %}">
              {{ property.get_deal_type_display }}
            </span>
          </div>
  
          <!-- Property Details -->
          <div class="p-3 text-gray-800 dark:text-gray-200">
            <strong class="text-lg block">{{ property.title }}</strong>
            <p class="text-sm text-gray-600 dark:text-gray-400">{{ property.state }} | {{ property.subdivision }} | {{ property.village }}</p>
          </div>
  
          <!-- Listing Date (Bottom) -->
          <p class="text-xs text-gray-600 dark:text-gray-400 text-right mt-auto p-2">
             Listed on: {{ property.listing_date }}
          </p>
        </div></a>
      {% empty %}
        <p class="text-gray-700 dark:text-gray-300 text-center py-6 col-span-4">No land properties available.</p>
      {% endfor %}
    </div>
  
    <!-- View More Button -->
    <div class="flex justify-center mt-6">
      <a href="{% url 'property_list' property_type='land' %}" 
         class="px-5 py-2 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-all duration-300">
        View More
      </a>
    </div>
  </section>
  



<!-- Residential Properties Section -->
<section id="residential-properties" class="m-6 p-6 bg-gray-50 dark:bg-gray-900 rounded-lg shadow-md">
    <h2 class="text-2xl font-semibold mb-6 text-center text-gray-900 dark:text-gray-100">Residential Properties</h2>
  
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
      {% for property in residential_properties %}
        <div class="relative p-4 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 
                    hover:shadow-xl transition-all duration-300 flex flex-col justify-between">
        
        <a href="{% url 'property_detail' property.slug %}" class="block">
          <!-- Property Image with Deal Type Badge -->
          <div class="relative">
            {% if property.images.all %}
                <img src="{{ property.images.first.image.url }}" alt="{{ property.title }}" class="w-full h-40 object-cover rounded-lg">
            {% else %}
                <img src="{% static 'images/nophoto.jpg' %}" alt="No Image Available" class="w-full h-40 object-cover rounded-lg">
            {% endif %}

  
            <!-- Deal Type Badge (Top Left) -->
            <span class="absolute top-2 left-2 px-3 py-1 text-xs font-semibold text-white rounded-md shadow-md 
                        {% if property.deal_type == 'SELL' %} bg-red-600 dark:bg-red-400 
                        {% elif property.deal_type == 'BUY' %} bg-green-600 dark:bg-green-400 
                        {% elif property.deal_type == 'RENT' %} bg-blue-600 dark:bg-blue-400 
                        {% else %} bg-gray-700 dark:bg-gray-500 {% endif %}">
              {{ property.get_deal_type_display }}
            </span>
          </div>
  
          <!-- Property Details -->
          <div class="p-3 text-gray-800 dark:text-gray-200">
            <strong class="text-lg block">{{ property.title }}</strong>
            <p class="text-sm text-gray-600 dark:text-gray-400">{{ property.state }} | {{ property.subdivision }} | {{ property.village }}</p>
          </div>
  
          <!-- Listing Date (Bottom) -->
          <p class="text-xs text-gray-600 dark:text-gray-400 text-right mt-auto p-2">
             Listed on: {{ property.listing_date }}
          </p>
        </div></a>
      {% empty %}
        <p class="text-gray-700 dark:text-gray-300 text-center py-6 col-span-4">No residential properties available.</p>
      {% endfor %}
    </div>
  
    <!-- View More Button -->
    <div class="flex justify-center mt-6">
      <a href="{% url 'property_list' property_type='residential' %}" 
         class="px-5 py-2 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-all duration-300">
        View More
      </a>
    </div>
  </section>

  <!-- Commercial Properties Section -->
<section id="commercial-properties" class="m-6 p-6 bg-gray-50 dark:bg-gray-900 rounded-lg shadow-md">
    <h2 class="text-2xl font-semibold mb-6 text-center text-gray-900 dark:text-gray-100">Commercial Properties</h2>
  
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
      {% for property in commercial_properties %}
        <div class="relative p-4 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 
                    hover:shadow-xl transition-all duration-300 flex flex-col justify-between">
        <a href="{% url 'property_detail' property.slug %}" class="block">
          <!-- Property Image with Deal Type Badge -->
          <div class="relative">
            {% if property.images.all %}
                <img src="{{ property.images.first.image.url }}" alt="{{ property.title }}" class="w-full h-40 object-cover rounded-lg">
            {% else %}
                <img src="{% static 'images/nophoto.jpg' %}" alt="No Image Available" class="w-full h-40 object-cover rounded-lg">
            {% endif %}

  
            <!-- Deal Type Badge (Top Left) -->
            <span class="absolute top-2 left-2 px-3 py-1 text-xs font-semibold text-white rounded-md shadow-md 
                        {% if property.deal_type == 'SELL' %} bg-red-600 dark:bg-red-400 
                        {% elif property.deal_type == 'BUY' %} bg-green-600 dark:bg-green-400 
                        {% elif property.deal_type == 'RENT' %} bg-blue-600 dark:bg-blue-400 
                        {% else %} bg-gray-700 dark:bg-gray-500 {% endif %}">
              {{ property.get_deal_type_display }}
            </span>
          </div>
  
          <!-- Property Details -->
          <div class="p-3 text-gray-800 dark:text-gray-200">
            <strong class="text-lg block">{{ property.title }}</strong>
            <p class="text-sm text-gray-600 dark:text-gray-400">{{ property.state }} | {{ property.subdivision }} | {{ property.village }}</p>
          </div>
  
          <!-- Listing Date (Bottom) -->
          <p class="text-xs text-gray-600 dark:text-gray-400 text-right mt-auto p-2">
             Listed on: {{ property.listing_date }}
          </p>
        </div></a>
      {% empty %}
        <p class="text-gray-700 dark:text-gray-300 text-center py-6 col-span-4">No commercial properties available.</p>
      {% endfor %}
    </div>
  
    <!-- View More Button -->
    <div class="flex justify-center mt-6">
      <a href="{% url 'property_list' property_type='commercial' %}" 
         class="px-5 py-2 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-all duration-300">
        View More
      </a>
    </div>
  </section>

  <!-- Industrial Properties Section -->
<section id="industrial-properties" class="m-6 p-6 bg-gray-50 dark:bg-gray-900 rounded-lg shadow-md">
    <h2 class="text-2xl font-semibold mb-6 text-center text-gray-900 dark:text-gray-100">Industrial Properties</h2>
  
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
      {% for property in industrial_properties %}
        <div class="relative p-4 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 
                    hover:shadow-xl transition-all duration-300 flex flex-col justify-between">
        <a href="{% url 'property_detail' property.slug %}" class="block">
          <!-- Property Image with Deal Type Badge -->
          <div class="relative">
            {% if property.images.all %}
                <img src="{{ property.images.first.image.url }}" alt="{{ property.title }}" class="w-full h-40 object-cover rounded-lg">
            {% else %}
                <img src="{% static 'images/nophoto.jpg' %}" alt="No Image Available" class="w-full h-40 object-cover rounded-lg">
            {% endif %}

  
            <!-- Deal Type Badge (Top Left) -->
            <span class="absolute top-2 left-2 px-3 py-1 text-xs font-semibold text-white rounded-md shadow-md 
                        {% if property.deal_type == 'SELL' %} bg-red-600 dark:bg-red-400 
                        {% elif property.deal_type == 'BUY' %} bg-green-600 dark:bg-green-400 
                        {% elif property.deal_type == 'RENT' %} bg-blue-600 dark:bg-blue-400 
                        {% else %} bg-gray-700 dark:bg-gray-500 {% endif %}">
              {{ property.get_deal_type_display }}
            </span>
          </div>
  
          <!-- Property Details -->
          <div class="p-3 text-gray-800 dark:text-gray-200">
            <strong class="text-lg block">{{ property.title }}</strong>
            <p class="text-sm text-gray-600 dark:text-gray-400">{{ property.state }} | {{ property.subdivision }} | {{ property.village }}</p>
          </div>
  
          <!-- Listing Date (Bottom) -->
          <p class="text-xs text-gray-600 dark:text-gray-400 text-right mt-auto p-2">
             Listed on: {{ property.listing_date }}
          </p>
        </div></a>
      {% empty %}
        <p class="text-gray-700 dark:text-gray-300 text-center py-6 col-span-4">No industrial properties available.</p>
      {% endfor %}
    </div>
  
    <!-- View More Button -->
    <div class="flex justify-center mt-6">
      <a href="{% url 'property_list' property_type='industrial' %}" 
         class="px-5 py-2 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-all duration-300">
        View More
      </a>
    </div>
  </section>

<!-- Repeat for Other Sections (Residential, Commercial, Industrial) -->
<!-- All Properties Section -->
<section id="all-properties" class="m-6 p-6 bg-gray-50 dark:bg-gray-900 rounded-lg shadow-md"">
    <h2 class="text-2xl font-semibold mb-6 text-center text-gray-900 dark:text-gray-100">All Properties</h2>
    
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
      {% for property in all_properties %}
        <div class="relative p-4 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 
                    hover:shadow-xl transition-all duration-300 flex flex-col justify-between">
        <a href="{% url 'property_detail' property.slug %}" class="block">
          <!-- Property Image -->
          <div class="relative">
            {% if property.images.all %}
              <img src="{{ property.images.first.image.url }}" alt="{{ property.title }}" 
                   class="w-full h-40 object-cover rounded-lg">
            {% else %}
              <img src="{% static 'images/nophoto.jpg' %}" alt="No Image Available" 
                   class="w-full h-40 object-cover rounded-lg">
            {% endif %}
  
            <!-- Deal Type Badge (Top Left) -->
            <span class="absolute top-2 left-2 px-3 py-1 text-xs font-semibold text-white rounded-md shadow-md 
                        {% if property.deal_type == 'SELL' %} bg-red-600 dark:bg-red-400 
                        {% elif property.deal_type == 'BUY' %} bg-green-600 dark:bg-green-400 
                        {% elif property.deal_type == 'RENT' %} bg-blue-600 dark:bg-blue-400 
                        {% else %} bg-gray-700 dark:bg-gray-500 {% endif %}">
              {{ property.get_deal_type_display }}
            </span>
          </div>
  
          <!-- Property Details -->
          <div class="p-3 text-gray-800 dark:text-gray-200">
            <strong class="text-lg block">{{ property.title }}</strong>
          </div>
  
          <!-- Listing Date (Bottom) -->
          <p class="text-xs text-gray-600 dark:text-gray-400 text-right mt-auto p-2">
             Listed on: {{ property.listing_date }}
          </p>
        </div></a>
      {% empty %}
        <p class="text-gray-700 dark:text-gray-300 text-center py-6 col-span-4">No properties available.</p>
      {% endfor %}
    </div>
  
    <!-- View More Button -->
    <div class="flex justify-center mt-6">
      <a href="{% url 'all_properties' %}" 
         class="px-5 py-2 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-all duration-300">
        View More
      </a>
    </div>
  </section>
  
{% endblock %}